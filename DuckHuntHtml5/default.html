<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>HTML 5 - Duck Hunt</title>

    <script src="scripts/modernizr-2.6.2.js"></script>
    <script src='scripts/quintus/quintus.js'></script>
    <script src='scripts/quintus/quintus_sprites.js'></script>
    <script src='scripts/quintus/quintus_scenes.js'></script>
    <script src='scripts/quintus/quintus_input.js'></script>
    <script src='scripts/quintus/quintus_anim.js'></script>
    <script src='scripts/quintus/quintus_2d.js'></script>
    <!--<script src='../../lib/quintus_audio.js'></script>-->
    <script src='scripts/quintus/quintus_touch.js'></script>
    <script src='scripts/quintus/quintus_ui.js'></script>

    <script src="scripts/scenes.js"></script>
    <script src="scripts/sprites.js"></script>
    <script src="scripts/duckhunt.js"></script>
    <!--<script src="scripts/ui.js"></script>-->

    <script type="text/javascript">
        var nextPerson = 'michel.dobreme';

        function startGame() {
            var div = document.getElementById("startScreen");
            div.style.display = "none";
            var div = document.getElementById("gameCanvas");
            div.style.visibility = "visible";
            var textbox = document.getElementById("username");
            var username = textbox.value;
            startGameCanvas(username);
        }

        function createTimesheet(data, sprites, logedinUser) {
            var divsheet = document.getElementById('timesheet');
            divsheet.style.visibility = 'visible';
            var canvas = document.getElementById('gameCanvas');
            canvas.style.display = 'none';
            var div = document.getElementById('timesheettable');

            var congratulations = document.getElementById('congratulations');
            var sorry = document.getElementById('sorry');

            if (logedinUser === nextPerson) {
                sorry.style.display = 'none';
            }
            else {
                congratulations.style.display = 'none';
            }

            var tbl = document.createElement('table');
            var tbh = document.createElement('thead');
            var tr = document.createElement('tr');
            for (var i = 0; i <= data.length; i++) {

                var th = document.createElement('th');
                if (i != 0) {
                    th.appendChild(document.createTextNode(data[i - 1].day));
                }
                tr.appendChild(th);

            }
            tbh.appendChild(tr);

            var tby = document.createElement('tbody');

            for (var i = 0; i < sprites.length; i++) {
                var tr = document.createElement('tr');
                // first column === names of ducks
                tr.appendChild(document.createElement('td').appendChild(document.createTextNode(sprites[i])));

                for (var j = 0; j < data.length; j++) {
                    var td = document.createElement('td');
                    td.appendChild(document.createTextNode(data[j].ducks[i].count));

                    tr.appendChild(td);
                }

                tby.appendChild(tr);
            }

            tbl.appendChild(tbh);
            tbl.appendChild(tby);

            div.appendChild(tbl);
        }

        window.addEventListener('load', function (e) {
            if (Modernizr.canvas) {
                var div = document.getElementById("startScreen");
                div.style.visibility = "visible";

                var div = document.getElementById("noSupport");
                div.style.display = "none";
            }
            else {
                var div = document.getElementById("startScreen");
                div.style.display = "none";

                var div = document.getElementById("noSupport");
                div.style.visibility = "visible";
            }
        });

    </script>

    <style type="text/css">
        canvas#gameCanvas {
            background-image: linear-gradient(bottom, rgb(126,86,12) 55%, rgb(147,217,250) 74%);
            /* Opera 11.10+ */
            background-image: -o-linear-gradient(bottom, rgb(126,86,12) 55%, rgb(147,217,250) 74%);
            /* Firefox 3.6+ */
            background-image: -moz-linear-gradient(bottom, rgb(126,86,12) 55%, rgb(147,217,250) 74%);
            /* Safari 5.1, Chrome 10+ */
            background-image: -webkit-linear-gradient(bottom, rgb(126,86,12) 55%, rgb(147,217,250) 74%);
            /* IE 10 */
            background-image: -ms-linear-gradient(bottom, rgb(126,86,12) 55%, rgb(147,217,250) 74%);
            /* Safari 4-5, Chrome 1-9 */
            background-image: -webkit-gradient( linear, left bottom, left 200, color-stop(0.55, rgb(126,86,12)), color-stop(0.74, rgb(147,217,250)) );
            height: 350px;
            width: 360px;
            position: relative;
            visibility: hidden;
        }

        #containerDiv {
            width: 360px;
            height: 350px;
            margin: 0px auto;
            position: relative;
            text-align: center;
            visibility: hidden;
        }

        .startScreen {
            height: 350px;
            width: 360px;
            position: relative;
            visibility: hidden;
        }

        img.ostrich {
            width: 60px;
            height: 60px;
            margin: 5px;
            float: left;
            border: 1px solid black;
        }

        .text {
            padding-left: 80px;
        }

        #timesheet {
        }

            #timesheet table {
                border: 1px black solid;
            }

                #timesheet table td, #timesheet table th {
                    padding:2px;
                }

                 #timesheet table th:not(:last-child), #timesheet table td:not(:last-child) {
                    border-right: 1px solid black;
                }

                #timesheet table th, #timesheet table tr:not(:last-child) td {
                    border-bottom: 1px solid black;
                }

                #timesheet table td:not(:first-child) {
                    text-align: center;
                }

        #timesheettable {
            text-align:center;
        }
        .finalBoxes {
            margin-top: 20px;
            padding: 5px;
            font-weight: bold;
            font-size: x-large;
            background-color: red;
            color: white;
        }
        #final {
            background-color: red;
            color: white;
        }

        #congratulations {
            background-color: green;
            color: white;
        }
        #sorry {
            background-color: orange;
            color: red;
        }
    </style>
</head>
<body>
    <div id="containerDiv">
        <div id="noSupport" class="startScreen">
            <img class="ostrich" src="images/ostrich.jpg" />
            <div class="text">
                You require a HTML 5-enabled browser. Best experience will be with Google Chrome. Sorry, No IE6, IE7, IE8 or IE9 is supported (or tested).
            </div>
        </div>
        <div id="startScreen" class="startScreen">
            <img class="ostrich" src="images/ostrich.jpg" />
            <div class="text">
                <h3>Welcome to this weeks time-sheet reminder</h3>
                My name is Ronald. Those who have been here for a while may still remember me.
                For the new ones... I believe some ghost stories are still going around at AG. Don't believe everyting, but most of them ;-).<br /><br />
                I am very happy to be choosen for a special guest appearance in your still on-going time-sheet reminder game. <br /><br />
                I still remember the first onces we send out and am vary glad to hear that some traditions are still kept alive. Credits to the hard core. <br /><br />
                I found that it has become very challenging to come up with some creativity. But as some know, I try to be a trend-setter.
                So maybe this will start a new direction of time-sheet reminders.<br /><br />
                It's very simple. Just enter your username in the textbox below and click the button to see if YOU are the lucky person for next weeks reminder.<br /><br />

                Fill in your user name in the textbox below. (first part of your email, before the @, lower case, inclusive the dot(.))<br />
                <input id="username" type="text" /><br />
                Click the button.<br />
                <button id="startButton" onclick="javascript: startGame();">Fill in timesheet</button>
            </div>
        </div>
        <canvas id="gameCanvas" height="350" width="360"></canvas>
        <div id="timesheet" class="startScreen">
            <div id="congratulations" class="finalBoxes">Congratulations, you are choosen to be the next in line for the reminder!!</div>
            <div id="sorry" class="finalBoxes">Sorry, you can not show off your creativity next week.<br />Don't worry, your turn will come.</div>
            <div id="timesheettable">
                <h2>Your Time Sheet</h2>
            </div>

            <div id="final" class="finalBoxes">Now stop playing and fill in this weeks time sheet!!</div>

        </div>
    </div>

</body>
</html>
